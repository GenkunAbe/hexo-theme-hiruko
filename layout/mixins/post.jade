mixin postInfo(page)
  .post-info= full_date(page.date,'MMM Do YYYY')

mixin postTags(page)
  if (page.tags.length >0)
  .post-tags-box!= list_tags(page.tags,{show_count:false,style:null,saperator:','})

mixin postAllTags(site)
  .all-tags-box
    - site.tags.each(function(tag){
      span.site-tag= tag.name
    - })

//-home page
mixin posts()
  .articles
    - page.posts.each(function(item){
      article.post-block
        h2.post-title
          a.post-link(href=url_for(item.path))=item.title
        +postInfo(item)
        if item.excerpt
          .post-entry!= item.excerpt
        else
          .post-entry
            != item.content
        .post-meta
          a(href=url_for(item.path)).article-more= theme.excerpt_link
          if (item.tags.length >0)
            .post-tags-box!= list_tags(item.tags,{show_count:false,style:null,saperator:','})
    - })

mixin post(page)
  .post
    article.post-block
      h1.post-title
        != page.title
      +postInfo(page)
      .post-entry
        != page.content
      if (page.tags.length >0)
        .post-tags-box!= list_tags(page.tags,{show_count:false,style:null,saperator:','})

mixin postTagList()
  .archive.col-md-8.col-xs-12
    - var posts = site.posts.sort('date',-1)
    - posts.each(function(item){
      -item.tags.each(function(tag){
        if page.tag == tag.name
          .post-item
            a.post-item-link(href=url_for(item.path))
              span.post-title.col-sm-9.col-xs-12=item.title
              span.post-date.col-sm-3.col-xs-12=full_date(item.date,'MMM Do YYYY')
            .postList-tags-box!= list_tags(item.tags,{show_count:false,style:null,saperator:','})
      -})
    -})


mixin postList()
  .archive.col-md-8.col-xs-12
    - var posts = site.posts.sort('date',-1)
    - posts.each(function(item){
      .post-item
        a.post-item-link(href=url_for(item.path))
          -var title = item.title.length>20?(item.title.substr(1, 22) + '...'):item.title
          span.post-title.col-sm-9.col-xs-12= item.title
          span.post-date.col-sm-3.col-xs-12=full_date(item.date,'MMM Do YYYY')
    -})
